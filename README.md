ch1codes

1. add middleware for chat
2. build upon this base
